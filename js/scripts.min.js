function CSS3MultiColumn(){function loadStylesheets(){if(document.styleSheets){for(var i=0;i<document.styleSheets.length;i++)cssCache[document.styleSheets[i].href]=!1;for(var i=0;i<document.styleSheets.length;i++)loadCssCache(document.styleSheets[i],"parseStylesheets")}else if(document.getElementsByTagName){for(var Lt=document.getElementsByTagName("link"),i=0;i<Lt.length;i++)cssCache[Lt[i].href]=!1;for(var i=0;i<Lt.length;i++)loadCssCache(Lt[i],"parseStylesheets")}}function loadCssCache(s,callback){if(null==s.href||-1==s.href.indexOf(location.host)||s.href.indexOf(location.host)>50)return!1;if(s.href&&s.cssText&&(cssCache[s.href]=s.cssText,eval(callback)()),s.href&&"undefined"!=typeof XMLHttpRequest){var xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){4==xmlhttp.readyState&&("undefined"==typeof xmlhttp.status||200==xmlhttp.status||304==xmlhttp.status)&&(cssCache[s.href]=xmlhttp.responseText,eval(callback)())},xmlhttp.open("GET",s.href,!0),xmlhttp.send(null)}}function parseStylesheets(){var allDone=!0;for(var i in cssCache)0!=cssCache[i]?parseStylesheet(cssCache[i]):allDone=!1;allDone&&processElements()}function parseStylesheet(cssText){for(var cc=new ut.getPseudoCssRules("column-count",cssText),i=0;cc&&i<cc.cssRules.length;i++)pseudoCSSRules[cc.cssRules[i].selectorText]||(pseudoCSSRules[cc.cssRules[i].selectorText]=new Object),pseudoCSSRules[cc.cssRules[i].selectorText]["column-count"]=cc.cssRules[i].value;cc=new ut.getPseudoCssRules("column-width",cssText);for(var i=0;cc&&i<cc.cssRules.length;i++)pseudoCSSRules[cc.cssRules[i].selectorText]||(pseudoCSSRules[cc.cssRules[i].selectorText]=new Object),pseudoCSSRules[cc.cssRules[i].selectorText]["column-width"]=cc.cssRules[i].value;cc=new ut.getPseudoCssRules("column-gap",cssText);for(var i=0;cc&&i<cc.cssRules.length;i++)pseudoCSSRules[cc.cssRules[i].selectorText]||(pseudoCSSRules[cc.cssRules[i].selectorText]=new Object),pseudoCSSRules[cc.cssRules[i].selectorText]["column-gap"]=cc.cssRules[i].value;cc=new ut.getPseudoCssRules("column-rule",cssText);for(var i=0;cc&&i<cc.cssRules.length;i++)pseudoCSSRules[cc.cssRules[i].selectorText]||(pseudoCSSRules[cc.cssRules[i].selectorText]=new Object),pseudoCSSRules[cc.cssRules[i].selectorText]["column-rule"]=cc.cssRules[i].value}function processElements(){if(documentReady)for(var i in pseudoCSSRules){debug(i+" cc:"+pseudoCSSRules[i]["column-count"]+" cw:"+pseudoCSSRules[i]["column-width"]+" cr:"+pseudoCSSRules[i]["column-rule"]+" cg:"+pseudoCSSRules[i]["column-gap"]);for(var affectedElements=ut.cssQuery(i),j=0;j<affectedElements.length;j++)processElement(affectedElements[j],pseudoCSSRules[i]["column-count"],pseudoCSSRules[i]["column-width"],pseudoCSSRules[i]["column-gap"],pseudoCSSRules[i]["column-rule"])}}function processElement(affectedElement,column_count,column_width,column_gap,column_rule){var widthUnit,width,column_rule_width=0;if(affectedElement.clientWidth&&0!=affectedElement.clientWidth){var padding;affectedElement.currentStyle?padding=parseInt(affectedElement.currentStyle.paddingLeft.replace(/[\D]*/gi,""))+parseInt(affectedElement.currentStyle.paddingRight.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(padding=parseInt(document.defaultView.getComputedStyle(affectedElement,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(affectedElement,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))),isNaN(padding)&&(padding=0),width=(affectedElement.clientWidth-padding).toString()+"px"}else if(affectedElement.scrollWidth){var borderWidth,padding;affectedElement.currentStyle?padding=parseInt(affectedElement.currentStyle.paddingLeft.replace(/[\D]*/gi,""))+parseInt(affectedElement.currentStyle.paddingRight.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(padding=parseInt(document.defaultView.getComputedStyle(affectedElement,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(affectedElement,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))),isNaN(padding)&&(padding=0),affectedElement.currentStyle?borderWidth=parseInt(affectedElement.currentStyle.borderLeftWidth.replace(/[\D]*/gi,""))+parseInt(affectedElement.currentStyle.borderRightWidth.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(borderWidth=parseInt(document.defaultView.getComputedStyle(affectedElement,"").getPropertyValue("border-left-width").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(affectedElement,"").getPropertyValue("border-right-width").replace(/[\D]*/gi,""))),isNaN(borderWidth)&&(borderWidth=0),width=(affectedElement.scrollWidth-padding-borderWidth).toString()+"px"}else width="99%";var availableWidth=parseInt(width.replace(/[\D]*/gi,""));widthUnit=column_width&&"auto"!=column_width?column_width.replace(/[\d]*/gi,""):width.replace(/[\d]*/gi,""),widthUnit||(widthUnit="px"),column_gap=column_gap?parseInt(column_gap.replace(/[\D]*/gi,"")):"%"==widthUnit?1:15,column_rule&&"none"!=column_rule&&(column_gap=Math.floor(column_gap/2),column_rule_width=column_gap+parseInt(column_rule.substring(column_rule.search(/\d/),column_rule.search(/\D/)))),column_width&&"auto"!=column_width?(column_width=parseInt(column_width.replace(/[\D]*/gi,"")),column_count&&"auto"!=column_count||(column_count=Math.floor(availableWidth/(column_width+column_gap)))):column_width=(availableWidth-(column_gap+column_rule_width)*(column_count-1))/column_count,column_width-=1;var wrapper=document.createElement("div"),pn=affectedElement.parentNode;wrapper=pn.insertBefore(wrapper,affectedElement);var elem=pn.removeChild(affectedElement);elem=wrapper.appendChild(elem),wrapper.className=elem.className,elem.className="",elem.id=ut.randomId(),elem.style.width=column_width.toString()+widthUnit,"undefined"!=typeof elem.style.styleFloat&&(elem.style.styleFloat="left"),"undefined"!=typeof elem.style.cssFloat&&(elem.style.cssFloat="left");var newHeight=Math.floor(elem.offsetHeight/column_count)+14;wrapper.id||(wrapper.id=ut.randomId());for(var j=1,i=1;column_count>i&&elem&&column_count+5>j;i++)bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,findSplitPoint(elem,newHeight*i,wrapper),isDebug&&(bestSplitPoint.style.border="1px solid #00FF00"),bestSplitPoint&&!isElementSplitable(bestSplitPoint)?(newHeight=getElementRelativeTop(bestSplitPoint,wrapper)+bestSplitPoint.offsetHeight+10,i=1,debug("reset new Height = "+newHeight+" relativetop="+getElementRelativeTop(bestSplitPoint,wrapper)+" offsetHeight= "+bestSplitPoint.offsetHeight)):bestSplitPoint||debug("No split point found with "+newHeight),j++;debug("<table><tr><td>Avail. Width</td><td>"+availableWidth+"</td><td>Units</td><td>"+widthUnit+"</td></tr><tr><td>column_width</td><td>"+column_width+"</td><td>column_count</td><td>"+column_count+"</td></tr><tr><td>column_gap</td><td>"+column_gap+"</td><td>column_rule</td><td>"+column_rule+"</td></tr><tr><td>New Height</td><td>"+newHeight+"</td><td></td><td></td></tr></table>");for(var i=1;column_count>i&&elem;i++){if(bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,findSplitPoint(elem,newHeight,wrapper),bestSplitPoint&&isElementSplitable(bestSplitPoint)&&elem.id!=bestSplitPoint.id){var splitE=bestSplitPoint;isDebug&&(secondSplitPoint.style.border="1px dotted #00F")}else var splitE=secondSplitPoint;if(!splitE)return void debug("<hr />No split point found for "+elem.tagName+" "+newHeight);isDebug&&(splitE.style.border="1px solid #F00");var newCol=elem.cloneNode(!1);newCol.id=ut.randomId(),elem.parentNode.insertBefore(newCol,elem.nextSibling),newCol.style.paddingLeft=column_gap+widthUnit,column_rule&&"none"!=column_rule&&(newCol.style.borderLeft=column_rule,elem.style.paddingRight=column_gap+widthUnit),document.all&&!window.opera&&(elem.style.height=newHeight+"px"),elem.style.minHeight=newHeight+"px";for(var refElement=(createNodeAncestors(splitE,elem,newCol,"append"),splitE);refElement&&refElement.id!=elem.id;){for(var littleSib=refElement.nextSibling;littleSib;)moveNode(littleSib,elem,newCol),littleSib=refElement.nextSibling;refElement=refElement.parentNode}for(var strippedLine=splitElement(splitE,newHeight-getElementRelativeTop(splitE,wrapper),elem,newCol),pn=splitE.parentNode;pn&&pn.id!=elem.id;){for(var n=pn.firstChild;n;)1==n.nodeType&&0==n.childNodes.length||3==n.nodeType&&""==n.nodeValue.replace(/[\u0020\u0009\u000A]*/,"")?(pn.removeChild(n),n=pn.firstChild):n=n.nextSibling;pn=pn.parentNode}if(strippedLine&&(splitE=elem.lastChild,splitE&&document.defaultView&&"justify"==document.defaultView.getComputedStyle(splitE,"").getPropertyValue("text-align")||splitE.currentStyle&&"justify"==splitE.currentStyle.textAlign)){var txtFiller=document.createTextNode(" "+strippedLine.replace(/./g,"Â ")),filler=document.createElement("span");splitE.appendChild(filler),filler.style.lineHeight="1px",filler.appendChild(txtFiller)}elem=newCol}elem&&(document.all&&!window.opera&&(elem.style.height=newHeight+"px"),elem.style.minHeight=newHeight+"px");var clearFloatDiv=document.createElement("div");clearFloatDiv.style.clear="left",clearFloatDiv.appendChild(document.createTextNode(" ")),wrapper.appendChild(clearFloatDiv),navigator.userAgent.toLowerCase().indexOf("safari")+1&&(wrapper.innerHTML+=" ")}function findSplitPoint(n,newHeight,wrapper){if(1==n.nodeType){var top=getElementRelativeTop(n,wrapper),bot=top+n.offsetHeight;if(newHeight>top&&bot>newHeight){if(bestSplitPoint=n,isElementSplitable(n))for(var i=0;i<n.childNodes.length;i++)findSplitPoint(n.childNodes[i],newHeight,wrapper);return}newHeight>=bot&&bot>=secondSplitBottom&&(secondSplitBottom=bot,secondSplitPoint=n)}}function isElementSplitable(n){if(n.tagName)for(var tagName=n.tagName.toUpperCase(),i=0;i<splitableTags.length;i++)if(tagName==splitableTags[i])return!0;return!1}function splitElement(n,targetHeight,col1,col2){for(var cn=n.lastChild;cn;){if(3==cn.nodeType){for(var strippedText="dummmy",allStrippedText="";n.offsetHeight>targetHeight+2&&""!=strippedText;)strippedText=stripOneLine(cn),allStrippedText=strippedText+allStrippedText;if(""!=allStrippedText){var insertPoint=createNodeAncestors(cn,col1,col2,"insertBefore");insertPoint.insertBefore(document.createTextNode(allStrippedText),insertPoint.firstChild)}if(""!=cn.nodeValue)break;cn.parentNode.removeChild(cn)}else{var insertPoint=createNodeAncestors(cn,col1,col2,"insertBefore");insertPoint.insertBefore(cn.parentNode.removeChild(cn),insertPoint.firstChild)}cn=n.lastChild}return strippedText}function stripOneLine(n){for(;n&&3!=n.nodeType;)n=n.firstChild;if(n){var e=n.parentNode,h=e.offsetHeight;if(!h)return"";for(var str=n.nodeValue,wIdx=n.nodeValue.lastIndexOf(" ");-1!=wIdx&&e.offsetHeight==h;)n.nodeValue=n.nodeValue.substr(0,wIdx),wIdx=n.nodeValue.lastIndexOf(" "),-1==wIdx&&(wIdx=n.nodeValue.lastIndexOf("\n"));return e.offsetHeight==h&&(n.nodeValue=""),str.substr(n.nodeValue.length)}}function createNodeAncestors(n,col1,col2,method){for(var ancestors=new Array,insertNode=col2,pn=n.parentNode;pn&&pn.id!=col1.id;)ancestors[ancestors.length]=pn,pn.id||(pn.id=ut.randomId()),pn=pn.parentNode;for(var i=ancestors.length-1;i>=0;i--){for(var j=0;j<insertNode.childNodes.length&&(3==insertNode.childNodes[j].nodeType||!insertNode.childNodes[j].className.match(ancestors[i].id+"-css3mc"));j++);if(j==insertNode.childNodes.length){if(insertNode="append"==method?insertNode.appendChild(document.createElement(ancestors[i].tagName)):insertNode.insertBefore(document.createElement(ancestors[i].tagName),insertNode.firstChild),insertNode.className=ancestors[i].className+" "+ancestors[i].id+"-css3mc",insertNode.style.marginTop="0",insertNode.style.paddingTop="0","OL"==insertNode.tagName.toUpperCase()&&1==n.nodeType&&"LI"==n.tagName.toUpperCase()){for(var prevsib=n.previousSibling,count=0;prevsib;)1==prevsib.nodeType&&"LI"==prevsib.tagName.toUpperCase()&&count++,prevsib=prevsib.previousSibling;insertNode.setAttribute("start",count)}}else if(insertNode=insertNode.childNodes[j],"OL"==insertNode.tagName.toUpperCase()&&(-1==insertNode.start||1==insertNode.start)&&1==n.nodeType&&"LI"==n.tagName.toUpperCase()){for(var prevsib=n.previousSibling,count=0;prevsib;)1==prevsib.nodeType&&"LI"==prevsib.tagName.toUpperCase()&&count++,prevsib=prevsib.previousSibling;insertNode.setAttribute("start",count)}}return insertNode}function moveNode(n,col1,col2){var insertNode=createNodeAncestors(n,col1,col2,"append"),movedNode=insertNode.appendChild(n.parentNode.removeChild(n));return insertNode.id==col2.id&&1==movedNode.nodeType&&(movedNode.style.paddingTop="0px",movedNode.style.marginTop="0px"),movedNode}function getElementRelativeTop(obj,refObj){var cur=0;if(obj.offsetParent)for(;obj.offsetParent;)cur+=obj.offsetTop,obj=obj.offsetParent;var cur2=0;if(refObj.offsetParent)for(;refObj.offsetParent;)cur2+=refObj.offsetTop,refObj=refObj.offsetParent;return cur-cur2}var cssCache=new Object,splitableTags=new Array("P","DIV","SPAN","BLOCKQUOTE","ADDRESS","PRE","A","EM","I","STRONG","B","CITE","OL","UL","LI","ARTICLE","SECTION","ASIDE","FIGURE","FIGCAPTION","HEADER","FOOTER"),pseudoCSSRules=new Object,ut=new CSS3Utility,debug=ut.debug;if(document.location.search.match("mode=debug"))var isDebug=!0;else var isDebug=!1;var bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,documentReady=!1;ut.XBrowserAddEventHandler(window,"load",function(){documentReady=!0,processElements()}),loadStylesheets()}function CSS3Utility(){this.handlerList=new Array}CSS3Utility.prototype.cssQuery=function(){function c(N,S){if(!N)return[];var J=arguments.callee.caching&&!S;S=S?S.constructor==Array?S:[S]:[document],d=!1;var T=x(N).split(","),Q=[];for(var P in T){N=E(T[P]);for(var M,K,O=0,L="",R=S;O<N.length;)M=N[O++],K=N[O++],L+=M+K,R=J&&m[L]?m[L]:r(R,M,K),J&&(m[L]=R);Q=Q.concat(R)}return Q}function x(J){return J.replace(F,a).replace(D.ALL,D.ID).replace(G,b)}function E(J){return H.test(J)&&(J=" "+J),J.match(v)||[]}function B(J){return o.test(J)?J:"'"+J+"'"}function A(J){return o.test(J)?J.slice(1,-1):J}function D(J,L,K){this.id=z.length;var M="element.";switch(J.toLowerCase()){case"id":M+="id";break;case"class":M+="className";break;default:M+="getAttribute('"+J+"')"}switch(L){case"=":M+="=="+B(K);break;case"~=":M="/(^|\\s)"+A(K)+"(\\s|$)/.test("+M+")";break;case"|=":M="/(^|-)"+A(K)+"(-|$)/.test("+M+")"}i(z,new Function("element","return "+M))}function r(R,L,J){var K="";g.test(J)&&(J=J.split("|"),K=J[0],J=J[1]);var O,P=[];switch(L){case" ":for(O in R)if("function"!=typeof R[O])for(var M=n(R[O],J,K),N=0;N<M.length;N++)!q(M[N])||K&&!w(M[N],K)||i(P,M[N]);break;case">":for(O in R)for(var M=R[O].childNodes,N=0;N<M.length;N++)u(M[N],J,K)&&i(P,M[N]);break;case"+":for(O in R){var Q=h(R[O]);Q&&u(Q,J,K)&&i(P,Q)}break;case"~":for(O in R)for(var Q=R[O];Q=h(Q);)Q&&u(Q,J,K)&&i(P,Q);break;case".":J=new RegExp("(^|\\s)"+J+"(\\s|$)");for(O in R)J.test(R[O].className)&&i(P,R[O]);break;case"#":for(O in R)R[O].id==J&&i(P,R[O]);break;case"@":J=z[J];for(O in R)J(R[O])&&i(P,R[O]);break;case":":J=j[J];for(O in R)J(R[O])&&i(P,R[O])}return P}function u(K,J,L){return L&&!w(K,L)?!1:"*"==J?q(K):d?K.tagName==J:K.tagName==J.toUpperCase()}function w(J,K){return J[f]==K}function l(J){for(;(J=J.previousSibling)&&!q(J););return J}function h(J){for(;(J=J.nextSibling)&&!q(J););return J}function q(J){return Boolean(J.nodeType==t&&"!"!=J.tagName)}function i(K,J){K[K.length]=J}var d,e="1.0.1",H=/^[^>\+~\s]/,v=/[\s>\+~:@#\.]|[^\s>\+~:@#\.]+/g,g=/\|/,G=/([\s>\+~\,]|^)([\.:#@])/g,b="$1*$2",F=/^\s+|\s*([\+\,>\s;:])\s*|\s+$/g,a="$1",t=1,y=3,p=/MSIE/.test(navigator.appVersion),m={};c.caching=!1,c.reset=function(){m={}},c.toString=function(){return"function cssQuery() {\n  [version "+e+"]\n}"};var j={link:function(K){for(var J=0;J<document.links;J++)if(document.links[J]==K)return!0},visited:function(J){},"first-child":function(J){return!l(J)},"last-child":function(J){return!h(J)},root:function(K){var J=K.ownerDocument||K.document;return Boolean(K==J.documentElement)},empty:function(K){for(var J=0;J<K.childNodes.length;J++)if(q(K.childNodes[J])||K.childNodes[J].nodeType==y)return!1;return!0}},o=/([\'\"])[^\1]*\1/,z=[];D.prototype.toString=function(){return D.PREFIX+this.id},D.PREFIX="@",D.ALL=/\[([^~|=\]]+)([~|]?=?)([^\]]+)?\]/g,D.ID=function(J,K,M,L){return new D(K,M,L)};var n=p?function(K,J){return"*"==J&&K.all?K.all:K.getElementsByTagName(J)}:function(L,J,K){return K?L.getElementsByTagNameNS("*",J):L.getElementsByTagName(J)},f=p?"scopeName":"prefix";if("i".replace(/i/,function(){return""})){var C=String.prototype.replace,I=function(N,M){for(var K,L="",J=this;K=N.exec(J);)L+=J.slice(0,K.index)+M(K[0],K[1],K[2],K[3],K[4]),J=J.slice(K.lastIndex);return L+J};String.prototype.replace=function(K,J){return this.replace="function"==typeof J?I:C,this.replace(K,J)}}return c}(),CSS3Utility.prototype.XBrowserAddEventHandler=function(target,eventName,handlerName){if(target){if(target.addEventListener)target.addEventListener(eventName,function(e){eval(handlerName)(e)},!1);else if(target.attachEvent)target.attachEvent("on"+eventName,function(e){eval(handlerName)(e)});else{var originalHandler=target["on"+eventName];originalHandler?target["on"+eventName]=function(e){originalHandler(e),eval(handlerName)(e)}:target["on"+eventName]=eval(handlerName)}var l=this.handlerList.length;this.handlerList[l]=new Array(2),this.handlerList[l][0]=target.id,this.handlerList[l][1]=eventName}},CSS3Utility.prototype.getPseudoCssRules=function(f,g){this.cssRules=new Array;for(var b=f.replace("-","-")+"[\\s]*:[\\s]*([^;}]*)[;}]",c=new RegExp(b,"g"),d=c.exec(g),e=0;d;){var h=g.substr(0,g.substr(0,g.indexOf(d[0])).lastIndexOf("{")),a=h.substr(h.lastIndexOf("}")+1).replace(/^\s*|\s*$/g,"");this.cssRules[e]=new Object,this.cssRules[e].selectorText=a,this.cssRules[e].property=f,this.cssRules[e].value=d[1].replace(/(\r?\n)*/g,""),e++,d=c.exec(g)}},CSS3Utility.prototype.randomId=function(){for(var b="",a=0;6>a;a++)b+=String.fromCharCode(97+Math.floor(24*Math.random()));return b},CSS3Utility.prototype.debug=function(b){var a=document.getElementById("debugOutput");"undefined"!=typeof a&&a&&(a.innerHTML+=b)},!function(a){var b=function(a){a.data("fliped",!0);var b="rotate"+a.data("axis");a.find(".front").css({transform:b+(a.data("reverse")?"(-180deg)":"(180deg)")}),a.find(".back").css({transform:b+"(0deg)"})},c=function(a){a.data("fliped",!1);var b="rotate"+a.data("axis");a.find(".front").css({transform:b+"(0deg)"}),a.find(".back").css({transform:b+(a.data("reverse")?"(180deg)":"(-180deg)")})};a.fn.flip=function(d){return this.each(function(){var e=a(this);if(void 0!==d&&"boolean"==typeof d)d?b(e):c(e);else{var f=a.extend({axis:"y",reverse:!1,trigger:"click",speed:500},d);if(e.data("reverse",f.reverse),e.data("axis",f.axis),"x"==f.axis.toLowerCase())var g=2*e.outerHeight(),h="rotatex";else var g=2*e.outerWidth(),h="rotatey";e.find(".back").css({transform:h+"("+(f.reverse?"180deg":"-180deg")+")"}),e.css({perspective:g,position:"relative"});var i=f.speed/1e3||.5;if(e.find(".front, .back").outerHeight(e.height()).outerWidth(e.width()).css({"transform-style":"preserve-3d",position:"absolute",transition:"all "+i+"s ease-out","backface-visibility":"hidden"}),"click"==f.trigger.toLowerCase())e.find('button, a, input[type="submit"]').click(function(a){a.stopPropagation()}),e.click(function(){e.data("fliped")?c(e):b(e)});else if("hover"==f.trigger.toLowerCase()){var j=function(){e.unbind("mouseleave",k),b(e),setTimeout(function(){e.bind("mouseleave",k),e.is(":hover")||c(e)},f.speed+150)},k=function(){c(e)};e.mouseenter(j),e.mouseleave(k)}}}),this}}(jQuery),function($){$.fn.cyclotron=function(options){var settings=$.extend({dampingFactor:.93,historySize:5},options);return this.each(function(){var container,sx,armed,tick,prev,dx=0,offset=0,h=[];container=$(this);var startEventType="mousedown",endEventType="mouseup",moveEventType="mousemove",modernTouch=Modernizr.touch;modernTouch&&(startEventType+=" touchstart ",endEventType+=" touchend ",moveEventType+=" touchmove"),container.bind(startEventType,function(e){sx=modernTouch&&e.originalEvent.touches?e.originalEvent.touches[0].pageX-offset:e.pageX-offset,armed=!0,e.preventDefault()}),container.bind(moveEventType,function(e){var px;armed&&(px=e.pageX,px=modernTouch&&e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX,void 0===prev&&(prev=px),offset=px-sx,h.length>settings.historySize&&h.shift(),h.push(prev-px),container.css("background-position",offset),prev=px)}),container.bind("mouseleave mouseup touchend touchleave",function(){if(armed){var i,len=h.length,v=h[len-1];for(i=0;len>i;i++)v=(v*len+h[i])/(len+1);dx=v}armed=!1}),tick=function(){!armed&&dx&&(dx*=settings.dampingFactor,offset-=dx,container.css("background-position",offset),Math.abs(dx)<.001&&(dx=0))},setInterval(tick,16)})}}(jQuery),$(document).ready(function($){function blockLazyImage(elem,prop,auto){var heightBlock,widthBlock;return elem=$(elem),heightBlock=elem.closest(".block").height(),widthBlock=elem.closest(".block").width(),landscape=widthBlock>=heightBlock?!0:!1,heightBlock+="px",widthBlock+="px",heightBlock=auto===!0?"auto":heightBlock,auto=$(window).width()<768?!0:!1,widthBlock=auto===!0?"auto":widthBlock,propName=prop,prop="height"===prop?heightBlock:widthBlock}var navigation=$("#navigation"),menuParentWidth=navigation.closest(".menu").css("width");if(function($){function makeSticky(){windowOffsetTop=$(window).scrollTop(),menuParentWidth=navigation.closest(".menu").css("width"),windowOffsetTop>menuOffsetTop?(navigation.css({position:"fixed",top:"0",width:menuParentWidth}).addClass("sticky"),$(".menu").css({height:menuHeight})):navigation.css({position:"relative",top:"inital"}).removeClass("sticky")}menuOffsetTop=navigation.offset().top,menuHeight=navigation.height(),makeSticky(),$(window).scroll(function(){makeSticky()})}(jQuery),$('a[href^="#"]').on("click",function(elem){elem.preventDefault();var target=this.hash,$target=$(target),plusHeight=(window.location.hash,navigation.css("height"));plusHeight=60;var offset=$target.offset().top;offset=1==navigation.hasClass("sticky")?offset-plusHeight:offset-plusHeight-80,shout=1==navigation.hasClass("sticky")?!0:!1,$("html, body").stop().animate({scrollTop:offset},900,"easeInOutCubic")}),$(".videos").fitVids(),$(window).resize(function(){menuParentWidth=navigation.closest(".menu").css("width"),navigation.css({width:menuParentWidth}),$("img.lazy").css("height",function(index,value){return image=this,blockLazyImage(image,"height",!1)}),$("img.lazy").css("width",function(index,value){return image=this,blockLazyImage(image,"width",!1)})}),images=$("img.lazy"),$("img.lazy").css("height",function(index,value){return image=this,blockLazyImage(image,"height",!1)}),$("img.lazy").css("width",function(index,value){return image=this,blockLazyImage(image,"width",!1)}),$(".popBig").magnificPopup({type:"image",gallery:{enabled:!0,preload:[0,2],navigateByImgClick:!0}}),$(".front").append('<p class="anweisung">Dreh mich</p>'),$(".lazy").lazyload({placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP4/x8AAwAB/2+Bq7YAAAAASUVORK5CYII=",effect:"fadeIn",load:function(){}}),0==Modernizr.csscolumns){new CSS3MultiColumn}$(".flipper").flip({trigger:"hover"}),$(".pano").cyclotron({dampingFactor:.6}),$(".pano").css("background-repeat","no-repeat")});